$(document).ready(function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=0,r=0,s=0,t=0,u=0,a=function(){b=parseInt($("#Ti_moneyStock").val()),e=parseInt($("#Ti_moneyBond").val()),h=parseInt($("#Ti_moneyCash").val()),k=parseInt($("#Ti_moneyReal").val()),n=parseInt($("#Ti_moneyOther").val()),d=parseInt(10*$("#Ti_rateStock").val())/1e3,g=parseInt(10*$("#Ti_rateBond").val())/1e3,j=parseInt(10*$("#Ti_rateCash").val())/1e3,m=parseInt(10*$("#Ti_rateReal").val())/1e3,p=parseInt(10*$("#Ti_rateOther").val())/1e3,c=0,f=0,i=0,l=0,o=0,q=b+e+h+k+n,0!=q?(c=b/q*100,f=e/q*100,i=h/q*100,l=k/q*100,o=n/q*100,r=c*d+f*g+i*j+l*m+o*p,r=Math.round(100*r)/100,c=Math.round(b/q*1e3)/10,f=Math.round(e/q*1e3)/10,i=Math.round(h/q*1e3)/10,l=Math.round(k/q*1e3)/10,o=Math.round(n/q*1e3)/10,$("#Ti_weightStock").val(c),$("#Ti_weightBond").val(f),$("#Ti_weightCash").val(i),$("#Ti_weightReal").val(l),$("#Ti_weightOther").val(o)):($("#Ti_weightStock").val(0),$("#Ti_weightBond").val(0),$("#Ti_weightCash").val(0),$("#Ti_weightReal").val(0),$("#Ti_weightOther").val(0)),$("#moneyTotal").val(q),$("#wacc").val(r),$.plot(placeholder,[{label:"\uC8FC\uC2DD",data:b},{label:"\uCC44\uAD8C",data:e},{label:"\uD604\uAE08",data:h},{label:"\uBD80\uB3D9\uC0B0",data:k},{label:"\uAE30\uD0C0",data:n}],{series:{pie:{show:!0,radius:1,label:{show:!0,radius:3/4,formatter:v,background:{opacity:.5}}}},grid:{hoverable:!0,clickable:!0}});var a=[];for(i=0,s=q;i<=50;i++)t=0,s=t=i>0?s*(1+r/100):s,i==parseInt($("#Ti_spent").val())&&$("#Ti_futureMoney").val(Math.round(s)),a.push([i,Math.round(s)]);$.plot("#placeholder1",[{data:a,bars:{show:!0,fill:!0}}])},v=function(a,b){return"<div style='font-size:8pt; text-align:center; padding:2px; color:white;'>"+a+"<br/>"+Math.round(b.percent)+"%</div>"};a(),$("#Hs_moneyStock").slider({range:"max",min:0,max:1e3,value:200,slide:function(d,c){b=c.value,$("#Ti_moneyStock").val(b),a()}}),$("#btn_l_moneyStock").click(function(){(b=parseInt($("#Ti_moneyStock").val()))>0&&(b-=1),$("#Hs_moneyStock").slider("value",b),$("#Ti_moneyStock").val(b),a()}),$("#btn_r_moneyStock").click(function(){(b=parseInt($("#Ti_moneyStock").val()))<1e3&&(b+=1),$("#Hs_moneyStock").slider("value",b),$("#Ti_moneyStock").val(b),a()}),$("#Hs_moneyBond").slider({range:"max",min:0,max:1e3,value:500,slide:function(c,b){e=b.value,$("#Ti_moneyBond").val(e),a()}}),$("#btn_l_moneyBond").click(function(){(e=parseInt($("#Ti_moneyBond").val()))>0&&(e-=1),$("#Hs_moneyBond").slider("value",e),$("#Ti_moneyBond").val(e),a()}),$("#btn_r_moneyBond").click(function(){(e=parseInt($("#Ti_moneyBond").val()))<1e3&&(e+=1),$("#Hs_moneyBond").slider("value",e),$("#Ti_moneyBond").val(e),a()}),$("#Hs_moneyCash").slider({range:"max",min:0,max:1e3,value:300,slide:function(c,b){h=b.value,$("#Ti_moneyCash").val(h),a()}}),$("#btn_l_moneyCash").click(function(){(h=parseInt($("#Ti_moneyCash").val()))>0&&(h-=1),$("#Hs_moneyCash").slider("value",h),$("#Ti_moneyCash").val(h),a()}),$("#btn_r_moneyCash").click(function(){(h=parseInt($("#Ti_moneyCash").val()))<1e3&&(h+=1),$("#Hs_moneyCash").slider("value",h),$("#Ti_moneyCash").val(h),a()}),$("#Hs_moneyReal").slider({range:"max",min:0,max:1e3,value:0,slide:function(c,b){k=b.value,$("#Ti_moneyReal").val(k),a()}}),$("#btn_l_moneyReal").click(function(){(k=parseInt($("#Ti_moneyReal").val()))>0&&(k-=1),$("#Hs_moneyReal").slider("value",k),$("#Ti_moneyReal").val(k),a()}),$("#btn_r_moneyReal").click(function(){(k=parseInt($("#Ti_moneyReal").val()))<1e3&&(k+=1),$("#Hs_moneyReal").slider("value",k),$("#Ti_moneyReal").val(k),a()}),$("#Hs_moneyOther").slider({range:"max",min:0,max:1e3,value:0,slide:function(c,b){n=b.value,$("#Ti_moneyOther").val(n),a()}}),$("#btn_l_moneyOther").click(function(){(n=parseInt($("#Ti_moneyOther").val()))>0&&(n-=1),$("#Hs_moneyOther").slider("value",n),$("#Ti_moneyOther").val(n),a()}),$("#btn_r_moneyOther").click(function(){(n=parseInt($("#Ti_moneyOther").val()))<1e3&&(n+=1),$("#Hs_moneyOther").slider("value",n),$("#Ti_moneyOther").val(n),a()}),$("#Hs_rateStock").slider({range:"max",min:0,max:200,value:80,slide:function(c,b){d=b.value,$("#Ti_rateStock").val(d/10),a()}}),$("#btn_l_rateStock").click(function(){(d=parseInt(10*$("#Ti_rateStock").val()))>0&&(d-=1),$("#Hs_rateStock").slider("value",d),$("#Ti_rateStock").val(d/10),a()}),$("#btn_r_rateStock").click(function(){(d=parseInt(10*$("#Ti_rateStock").val()))<200&&(d+=1),$("#Hs_rateStock").slider("value",d),$("#Ti_rateStock").val(d/10),a()}),$("#Hs_rateBond").slider({range:"max",min:0,max:200,value:35,slide:function(c,b){g=b.value,$("#Ti_rateBond").val(g/10),a()}}),$("#btn_l_rateBond").click(function(){(g=parseInt(10*$("#Ti_rateBond").val()))>0&&(g-=1),$("#Hs_rateBond").slider("value",g),$("#Ti_rateBond").val(g/10),a()}),$("#btn_r_rateBond").click(function(){(g=parseInt(10*$("#Ti_rateBond").val()))<200&&(g+=1),$("#Hs_rateBond").slider("value",g),$("#Ti_rateBond").val(g/10),a()}),$("#Hs_rateCash").slider({range:"max",min:0,max:200,value:20,slide:function(c,b){j=b.value,$("#Ti_rateCash").val(j/10),a()}}),$("#btn_l_rateCash").click(function(){(j=parseInt(10*$("#Ti_rateCash").val()))>0&&(j-=1),$("#Hs_rateCash").slider("value",j),$("#Ti_rateCash").val(j/10),a()}),$("#btn_r_rateCash").click(function(){(j=parseInt(10*$("#Ti_rateCash").val()))<200&&(j+=1),$("#Hs_rateCash").slider("value",j),$("#Ti_rateCash").val(j/10),a()}),$("#Hs_rateReal").slider({range:"max",min:0,max:200,value:35,slide:function(c,b){m=b.value,$("#Ti_rateReal").val(m/10),a()}}),$("#btn_l_rateReal").click(function(){(m=parseInt(10*$("#Ti_rateReal").val()))>0&&(m-=1),$("#Hs_rateReal").slider("value",m),$("#Ti_rateReal").val(m/10),a()}),$("#btn_r_rateReal").click(function(){(m=parseInt(10*$("#Ti_rateReal").val()))<200&&(m+=1),$("#Hs_rateReal").slider("value",m),$("#Ti_rateReal").val(m/10),a()}),$("#Hs_rateOther").slider({range:"max",min:0,max:200,value:30,slide:function(c,b){p=b.value,$("#Ti_rateOther").val(p/10),a()}}),$("#btn_l_rateOther").click(function(){(p=parseInt(10*$("#Ti_rateOther").val()))>0&&(p-=1),$("#Hs_rateOther").slider("value",p),$("#Ti_rateOther").val(p/10),a()}),$("#btn_r_rateOther").click(function(){(p=parseInt(10*$("#Ti_rateOther").val()))<200&&(p+=1),$("#Hs_rateOther").slider("value",p),$("#Ti_rateOther").val(p/10),a()}),$("#btn_l_spent").click(function(){(u=parseInt($("#Ti_spent").val()))>0&&(u-=1),$("#Ti_spent").val(u),a()}),$("#btn_r_spent").click(function(){(u=parseInt($("#Ti_spent").val()))<50&&(u+=1),$("#Ti_spent").val(u),a()}),$(".ui-button.btn_left").button({icon:"ui-icon-arrow-1-w",showLabel:!1}),$(".ui-button.btn_right").button({icon:"ui-icon-arrow-1-e",showLabel:!1})})