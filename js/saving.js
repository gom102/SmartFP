$(document).ready(function(){var b,c,d,e,f,g,h,i,j="\uC6D4\uBCF5\uB9AC",k="\uC77C\uBC18\uACFC\uC138",a=function(){b=parseInt($("#Ti_saveMoney").val()),c=parseInt($("#Ti_savePeriod").val()),d=parseInt($("#Ti_spentPeriod").val()),e=parseInt(10*$("#Ti_rateReturn").val())/10,f=parseInt(10*$("#Ti_payBefore").val())/10,g=parseInt($("#Ti_payBeforeYear").val()),h=parseInt(10*$("#Ti_payAfter").val())/10,i=parseInt($("#Ti_payAfterYear").val()),b*=1e4,c*=12,d*=12,e/=100,f/=100,g*=12,h/=100,i*=12,$(".datatable").empty(),$("#Ti_spent").val((c+d)/12),Hs_payBeforeYear.max=$("#Hs_savePeriod").val()+$("#Hs_spentPeriod").val(),Hs_payAfterYear.max=$("#Hs_savePeriod").val()+$("#Hs_spentPeriod").val();var s,l,m,n,q,a=0,o=0,p=0,r=0,t=0,u=0,v=[],w=[];for(i=1;i<=c+d;i++)s=0,l=0,m=0,u=0,i<=c?(r+=b,"\uB2E8\uB9AC"==j?(o+=l=Math.round(b),p+=m=Math.round(o*(e/12)),a+=l+m,s=Math.round(l*(e/12))):"\uC5F0\uBCF5\uB9AC"==j?(o+=l=Math.round(l=i<=g?b*(1-f):b),n=Math.exp((Math.log(1+e)-Math.log(1))/12)-1,a+=l,m=Math.round(a*n),p+=m,a+=m,i<=i&&(a=Math.round(a*(1-h/12))),s=Math.round(l*(e/12))):"\uC6D4\uBCF5\uB9AC"==j?(o+=l=Math.round(l=i<=g?b*(1-f):b),n=e/12,a+=l,p+=m=Math.round(a*n),a+=m,i<=i&&(a=Math.round(a*(1-h/12))),s=Math.round(l*(e/12))):"\uBC18\uAE30\uBCF5\uB9AC"==j?(o+=l=Math.round(l=i<=g?b*(1-f):b),n=Math.exp((Math.log(1+e/2)-Math.log(1))/6)-1,a+=l,m=Math.round(a*n),p+=m,a+=m,i<=i&&(a=Math.round(a*(1-h/12))),s=Math.round(l*(e/12))):"\uBD84\uAE30\uBCF5\uB9AC"==j&&(o+=l=Math.round(l=i<=g?b*(1-f):b),n=Math.exp((Math.log(1+e/4)-Math.log(1))/3)-1,a+=l,m=Math.round(a*n),p+=m,a+=m,i<=i&&(a=Math.round(a*(1-h/12))),s=Math.round(l*(e/12)))):"\uB2E8\uB9AC"==j?(1==i&&(o=l=Math.round(b),r=l),p+=m=Math.round(o*(e/12)),a+=l+m):"\uC5F0\uBCF5\uB9AC"==j?(1==i&&(o=l=Math.round(l=i<=g?b*(1-f):b),a=l,r=l),n=Math.exp((Math.log(1+e)-Math.log(1))/12)-1,m=Math.round(a*n),p+=m,a+=m,i<=i&&(a=Math.round(a*(1-h/12)))):"\uC6D4\uBCF5\uB9AC"==j?(1==i&&(o=l=Math.round(l=i<=g?b*(1-f):b),a=l,r=l),p+=m=Math.round(a*(n=e/12)),a+=m,i<=i&&(a=Math.round(a*(1-h/12)))):"\uBC18\uAE30\uBCF5\uB9AC"==j?(1==i&&(o=l=Math.round(l=i<=g?b*(1-f):b),a=l,r=l),n=Math.exp((Math.log(1+e/2)-Math.log(1))/6)-1,m=Math.round(a*n),p+=m,a+=m,i<=i&&(a=Math.round(a*(1-h/12)))):"\uBD84\uAE30\uBCF5\uB9AC"==j&&(1==i&&(o=l=Math.round(l=i<=g?b*(1-f):b),a=l,r=l),n=Math.exp((Math.log(1+e/4)-Math.log(1))/3)-1,m=Math.round(a*n),p+=m,a+=m,i<=i&&(a=Math.round(a*(1-h/12)))),"\uC77C\uBC18\uACFC\uC138"==k?t=Math.round(a-.154*p):"\uC138\uAE08\uC6B0\uB300"==k?t=Math.round(a-.095*p):"\uBE44\uACFC\uC138"==k&&(t=Math.round(a)),u=Math.round((t-r)/r*1e3)/10,$("#Ti_futureMoney").val(Math.round(t)),v.push([i,Math.round(r/1e6)]),w.push([i,Math.round(t/1e6)]),q="<tr>",q+="<td width='45'>"+i+"</td>",q+="<td width='80'>"+l+"</td>",q+="<td width='80'>"+s+"</td>",q+="<td width='90'>"+a+"</td>",q+="<td width='90'>"+t+"</td>",q+="<td width='60'>"+u+"%</td>",q+="</tr>",$(".datatable").append(q);$.plot("#placeholder",[{data:v,lines:{show:!0,fill:!0}},{data:w,lines:{show:!0}}])};a(),$("#Hs_saveMoney").slider({range:"max",min:0,max:1e3,value:200,slide:function(d,c){b=c.value,$("#Ti_saveMoney").val(b),a()}}),$("#btn_l_saveMoney").click(function(){(b=parseInt($("#Ti_saveMoney").val()))>0&&(b-=1),$("#Hs_saveMoney").slider("value",b),$("#Ti_saveMoney").val(b),a()}),$("#btn_r_saveMoney").click(function(){(b=parseInt($("#Ti_saveMoney").val()))<1e3&&(b+=1),$("#Hs_saveMoney").slider("value",b),$("#Ti_saveMoney").val(b),a()}),$("#Hs_savePeriod").slider({range:"max",min:0,max:50,value:10,slide:function(d,b){c=b.value,$("#Ti_savePeriod").val(c),a()}}),$("#btn_l_savePeriod").click(function(){(c=parseInt($("#Ti_savePeriod").val()))>0&&(c-=1),$("#Hs_savePeriod").slider("value",c),$("#Ti_savePeriod").val(c),a()}),$("#btn_r_savePeriod").click(function(){(c=parseInt($("#Ti_savePeriod").val()))<50&&(c+=1),$("#Hs_savePeriod").slider("value",c),$("#Ti_savePeriod").val(c),a()}),$("#Hs_spentPeriod").slider({range:"max",min:0,max:50,value:0,slide:function(c,b){d=b.value,$("#Ti_spentPeriod").val(d),a()}}),$("#btn_l_spentPeriod").click(function(){(d=parseInt($("#Ti_spentPeriod").val()))>0&&(d-=1),$("#Hs_spentPeriod").slider("value",d),$("#Ti_spentPeriod").val(d),a()}),$("#btn_r_spentPeriod").click(function(){(d=parseInt($("#Ti_spentPeriod").val()))<50&&(d+=1),$("#Hs_spentPeriod").slider("value",d),$("#Ti_spentPeriod").val(d),a()}),$("#Hs_rateReturn").slider({range:"max",min:0,max:500,value:80,slide:function(c,b){e=b.value,$("#Ti_rateReturn").val(e/10),a()}}),$("#btn_l_rateReturn").click(function(){(e=parseInt(10*$("#Ti_rateReturn").val()))>0&&(e-=1),$("#Hs_rateReturn").slider("value",e),$("#Ti_rateReturn").val(e/10),a()}),$("#btn_r_rateReturn").click(function(){(e=parseInt(10*$("#Ti_rateReturn").val()))<500&&(e+=1),$("#Hs_rateReturn").slider("value",e),$("#Ti_rateReturn").val(e/10),a()}),$("#Hs_payBefore").slider({range:"max",min:0,max:200,value:145,slide:function(c,b){f=b.value,$("#Ti_payBefore").val(f/10),a()}}),$("#btn_l_payBefore").click(function(){(f=parseInt(10*$("#Ti_payBefore").val()))>0&&(f-=1),$("#Hs_payBefore").slider("value",f),$("#Ti_payBefore").val(f/10),a()}),$("#btn_r_payBefore").click(function(){(f=parseInt(10*$("#Ti_payBefore").val()))<200&&(f+=1),$("#Hs_payBefore").slider("value",f),$("#Ti_payBefore").val(f/10),a()}),$("#Hs_payBeforeYear").slider({range:"max",min:0,max:50,value:3,slide:function(d,b){b.value<=c/12?(g=b.value,$("#Ti_payBeforeYear").val(g)):$(this).slider("max",c/12),a()}}),$("#btn_l_payBeforeYear").click(function(){(g=parseInt($("#Ti_payBeforeYear").val()))>0&&(g-=1),$("#Hs_payBeforeYear").slider("value",g),$("#Ti_payBeforeYear").val(g),a()}),$("#btn_r_payBeforeYear").click(function(){(g=parseInt($("#Ti_payBeforeYear").val()))<c/12&&(g+=1),$("#Hs_payBeforeYear").slider("value",g),$("#Ti_payBeforeYear").val(g),a()}),$("#Hs_payAfter").slider({range:"max",min:0,max:200,value:8,slide:function(c,b){payAfter=b.value,$("#Ti_payAfter").val(payAfter/10),a()}}),$("#btn_l_payAfter").click(function(){(payAfter=parseInt(10*$("#Ti_payAfter").val()))>0&&(payAfter-=1),$("#Hs_payAfter").slider("value",payAfter),$("#Ti_payAfter").val(payAfter/10),a()}),$("#btn_r_payAfter").click(function(){(payAfter=parseInt(10*$("#Ti_payAfter").val()))<200&&(payAfter+=1),$("#Hs_payAfter").slider("value",payAfter),$("#Ti_payAfter").val(payAfter/10),a()}),$("#Hs_payAfterYear").slider({range:"max",min:0,max:50,value:0,slide:function(e,b){b.value<=(c+d)/12?(i=b.value,$("#Ti_payAfterYear").val(i)):$(this).slider("max",(c+d)/12),a()}}),$("#btn_l_payAfterYear").click(function(){(i=parseInt($("#Ti_payAfterYear").val()))>0&&(i-=1),$("#Hs_payAfterYear").slider("value",i),$("#Ti_payAfterYear").val(i),a()}),$("#btn_r_payAfterYear").click(function(){(i=parseInt($("#Ti_payAfterYear").val()))<(c+d)/12&&(i+=1),$("#Hs_payAfterYear").slider("value",i),$("#Ti_payAfterYear").val(i),a()}),$("input").on("change",function(){j=$("input[name=Method]:checked").val(),k=$("input[name=Tax]:checked").val(),a()}),$(".ui-button.btn_left").button({icon:"ui-icon-arrow-1-w",showLabel:!1}),$(".ui-button.btn_right").button({icon:"ui-icon-arrow-1-e",showLabel:!1})})